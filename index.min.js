var BEMHTML;!function(e){var t={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},n=function(){var c={trackCircularDependencies:!0,allowMultipleDeclarations:!0},h={},f=!1,d=[],p=function(){f=!1,m()},m=function(){var e,t=d,n=0;for(d=[];e=t[n++];)g(null,e.deps,[],e.cb)},g=function(e,t,n,i){var o=t.length;o||i([]);for(var s,a,u=[],l=function(e,t){if(t)i(null,t);else if(!--o){for(var n,r=[],s=0;n=u[s++];)r.push(n.exports);i(r)}},c=0,f=o;c<f;){if("string"==typeof(s=t[c++])){if(!h[s])return void i(null,r(s,e));a=h[s].decl}else a=s;u.push(a),_(a,n,l)}},_=function(n,i,r){if(n.state!==t.RESOLVED)if(n.state!==t.IN_RESOLVING)if(n.dependents.push(r),!n.prev||c.allowMultipleDeclarations){c.trackCircularDependencies&&(i=i.slice()).push(n);var l=!1,h=n.prev?n.deps.concat([n.prev]):n.deps;n.state=t.IN_RESOLVING,g(n,h,i,function(t,i){i?b(n,i):(t.unshift(function(e,t){l?r(null,s(n)):(l=!0,t?b(n,t):v(n,e))}),n.fn.apply({name:n.name,deps:n.deps,global:e},t))})}else b(n,a(n));else c.trackCircularDependencies&&u(n,i)?r(null,o(n,i)):n.dependents.push(r);else r(n.exports)},v=function(e,n){e.exports=n,e.state=t.RESOLVED;for(var i,r=0;i=e.dependents[r++];)i(n);e.dependents=void 0},b=function(e,n){e.state=t.NOT_RESOLVED;for(var i,r=0;i=e.dependents[r++];)i(null,n);e.dependents=[]};return{create:n,define:function(e,n,i){i||(i=n,n=[]);var r=h[e];r||(r=h[e]={name:e,decl:void 0}),r.decl={name:e,prev:r.decl,fn:i,state:t.NOT_RESOLVED,deps:n,dependents:[],exports:void 0}},require:function(t,n,r){"string"==typeof t&&(t=[t]),f||(f=!0,l(p)),d.push({deps:t,cb:function(t,o){o?(r||i)(o):n.apply(e,t)}})},getState:function(e){var n=h[e];return n?t[n.decl.state]:"NOT_DEFINED"},isDefined:function(e){return!!h[e]},setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t])},getStat:function(){var e,t={};for(var n in h)h.hasOwnProperty(n)&&(t[(e=h[n]).decl.state]||(t[e.decl.state]=[])).push(n);return t}}},i=function(e){l(function(){throw e})},r=function(e,t){return Error(t?'Module "'+t.name+'": can\'t resolve dependence "'+e+'"':'Required module "'+e+"\" can't be resolved")},o=function(e,t){for(var n,i=[],r=0;n=t[r++];)i.push(n.name);return i.push(e.name),Error('Circular dependence has been detected: "'+i.join(" -> ")+'"')},s=function(e){return Error('Declaration of module "'+e.name+'" has already been provided')},a=function(e){return Error('Multiple declarations of module "'+e.name+'" have been detected')},u=function(e,t){for(var n,i=0;n=t[i++];)if(e===n)return!0;return!1},l=function(){var t=[],n=function(e){return 1===t.push(e)},i=function(){var e=t,n=0,i=t.length;for(t=[];n<i;)e[n++]()};if("object"==typeof process&&process.nextTick)return function(e){n(e)&&process.nextTick(i)};if(e.setImmediate)return function(t){n(t)&&e.setImmediate(i)};if(e.postMessage&&!e.opera){var r=!0;if(e.attachEvent){var o=function(){r=!1};e.attachEvent("onmessage",o),e.postMessage("__checkAsync","*"),e.detachEvent("onmessage",o)}if(r){var s="__modules"+ +new Date,a=function(e){e.data===s&&(e.stopPropagation&&e.stopPropagation(),i())};return e.addEventListener?e.addEventListener("message",a,!0):e.attachEvent("onmessage",a),function(t){n(t)&&e.postMessage(s,"*")}}}var u=e.document;if("onreadystatechange"in u.createElement("script")){var l=u.getElementsByTagName("head")[0];return function(e){var t;n(e)&&((t=u.createElement("script")).onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,i()},l.appendChild(t))}}return function(e){n(e)&&setTimeout(i,0)}}();"object"==typeof exports?module.exports=n():e.modules=n()}("undefined"!=typeof window?window:global),modules.define("i-bem-dom",["i-bem","i-bem__internal","i-bem-dom__collection","i-bem-dom__events_type_dom","i-bem-dom__events_type_bem","inherit","identify","objects","functions","jquery","dom"],function(e,t,n,i,r,o,s,a,u,l,c,h){var f,d={},p={},m={},g={},_={},v=t.entities,b="i-bem",y="."+b,E="data-bem",k=n.NAME_PATTERN,x=n.MOD_DELIM,M=n.ELEM_DELIM,w=n.buildModPostfix,S=n.buildClassName,P=Array.prototype.reverse,T=Array.prototype.slice,C=new r.EventManagerFactory(O),I=new o.EventManagerFactory(O);function N(e,t,n,i,r){var o=t[0];if(!_[a(o)]){n||(n=j(function(e,t){var n=A(e);return n[t]||(n[t]={})}(o,e),e));var s=n.uniqId,l=p[s];if(l)return l.domElem.index(o)<0&&(l.domElem=l.domElem.add(t),u.extend(l.params,n)),l;d[s]=d[s]?d[s].add(t):t;var h=o.parentNode;h&&11!==h.nodeType||c.unique(d[s]);var f=O(e);return f._processInit(),!f.lazyInit||i||!1===n.lazyInit?(i&&t.addClass(b),l=new f(d[s],n,!!i),delete d[s],r&&r.apply(l,T.call(arguments,4)),l):void 0}}function O(e){if(v[e])return v[e];var t=e.split(M);return t[1]?f.declElem(t[0],t[1],{},{lazyInit:!0},!0):f.declBlock(e,{},{lazyInit:!0},!0)}function j(e,t,n){return e.uniqId||(e.uniqId=(e.id?t+"-id-"+e.id:a())+(n||a())),e}function R(e,t,n){var i=e.find(t);return n?i:i.add(e.filter(t))}function A(e){var t=a(e);return g[t]||(g[t]=function(e){var t=e.getAttribute(E);return t?JSON.parse(t):{}}(e))}function D(e){return"string"==typeof e?e={elem:e}:l.isFunction(e)?e={elem:e.getName()}:l.isFunction(e.elem)&&(e.elem=e.elem.getName()),{elem:e.elem,mod:w(e.modName,e.modVal)}}function B(e){return c("string"==typeof e?c.parseHTML(e,null,!0):e)}function L(e){if("string"==typeof e||"object"==typeof e&&"string"==typeof e.block)throw new Error("Block must be a class or description (block, modName, modVal) of the block to find")}var V=s({__constructor:function(e,t,n){this.domElem=e,this._elemsCache={},this._elemCache={},this._findBackRefs=[],p[t.uniqId||a(this)]=this,this.__base(null,t,n)},_block:function(){},_elems:function(e){var t=D(e),n=this._elemsCache[t.elem];if(n&&t.mod in n)return n[t.mod];var i=(n||(this._elemsCache[t.elem]={}))[t.mod]=this.findMixedElems(e).concat(this.findChildElems(e));return i.forEach(function(e){e._findBackRefs.push(this)},this),i},_elem:function(e){var t=D(e),n=this._elemCache[t.elem];if(n&&t.mod in n)return n[t.mod];var i=(n||(this._elemCache[t.elem]={}))[t.mod]=this.findMixedElem(e)||this.findChildElem(e);return i&&i._findBackRefs.push(this),i},_dropElemCache:function(e){return arguments.length?((Array.isArray(e)?e:T.call(arguments)).forEach(function(e){var t=D(e);t.mod?(this._elemsCache[t.elem]&&delete this._elemsCache[t.elem][t.mod],this._elemCache[t.elem]&&delete this._elemCache[t.elem][t.mod]):(delete this._elemsCache[t.elem],delete this._elemCache[t.elem])},this),this):(this._elemsCache={},this._elemCache={},this)},findChildBlock:function(e){return L(e),this._findEntities("find",e,!0)},findChildBlocks:function(e){return L(e),this._findEntities("find",e)},findParentBlock:function(e){return L(e),this._findEntities("parents",e,!0)},findParentBlocks:function(e){return L(e),this._findEntities("parents",e)},findMixedBlock:function(e){return L(e),this._findEntities("filter",e,!0)},findMixedBlocks:function(e){return L(e),this._findEntities("filter",e)},findChildElem:function(e,t){return t?this._filterFindElemResults(this._findEntities("find",e)).get(0):this._findEntities("find",e,!0)},findChildElems:function(e,t){var n=this._findEntities("find",e);return t?this._filterFindElemResults(n):n},findParentElem:function(e,t){return t?this._filterFindElemResults(this._findEntities("parents",e))[0]:this._findEntities("parents",e,!0)},findParentElems:function(e,t){var n=this._findEntities("parents",e);return t?this._filterFindElemResults(n):n},findMixedElem:function(e){return this._findEntities("filter",e,!0)},findMixedElems:function(e){return this._findEntities("filter",e)},_filterFindElemResults:function(e){var t=this._block();return e.filter(function(e){return e._block()===t})},_findEntities:function(e,t,n){var r=l.isFunction(t)?t.getEntityName():"object"==typeof t?t.block?t.block.getEntityName():"string"==typeof t.elem?this.__self._blockName+M+t.elem:t.elem.getEntityName():this.__self._blockName+M+t,o="."+("object"==typeof t?S(r,t.modName,void 0===t.modVal||t.modVal):r)+(n?":first":""),s=this.domElem[e](o);if(n)return s[0]?N(r,s.eq(0),void 0,!0)._setInitedMod():null;var a=[],u={};return s.each(function(e,t){var n=N(r,c(t),void 0,!0)._setInitedMod();u[n._uniqId]||(u[n._uniqId]=!0,a.push(n))}),new i(a)},_domEvents:function(e){return C.getEventManager(this,e,this.domElem)},_events:function(e){return I.getEventManager(this,e,this.domElem)},_emit:function(e,t){return("object"==typeof e&&"js"===e.modName||this.hasMod("js","inited"))&&o.emit(this,e,t),this},_extractModVal:function(e){var t,n=this.domElem[0];return n&&(t=n.className.match(this.__self._buildModValRE(e))),t?t[2]||!0:""},_onSetMod:function(e,t,n){var i=this.__self,r=i.getName();if(this._findBackRefs.forEach(function(i){""===n||i._dropElemCache({elem:r,modName:e,modVal:n}),i._dropElemCache(""===t?r:{elem:r,modName:e,modVal:t})}),this.__base.apply(this,arguments),"js"!==e||""!==t){var o=i._buildModClassNamePrefix(e),s=i._buildModValRE(e),a=""===t;this.domElem.each(function(){var e=this.className,i=o;!0!==t&&(i+=x+t),(!0===n?s.test(e):(" "+e).indexOf(" "+o+x)>-1)?this.className=e.replace(s,a?"":"$1"+i):a||c(this).addClass(i)})}},_afterSetMod:function(e,t,n){var i={modName:e,modVal:t,oldModVal:n};this._emit({modName:e,modVal:"*"},i)._emit({modName:e,modVal:t},i)},containsEntity:function(e){return h.contains(this.domElem,e.domElem)}},{create:function(){throw Error("bemDom entities can not be created otherwise than from DOM")},_processInit:function(e){if(this.onInit&&this._inited==e){this.__base(e),this.onInit();var t=this.getName(),n=this.onInit;this.init=function(){this.getName()===t&&n.apply(this,arguments)}}},_domEvents:function(e){return C.getEventManager(this,e,f.scope)},_events:function(e){return I.getEventManager(this,e,f.scope)},_buildModClassNamePrefix:function(e){return this.getEntityName()+x+e},_buildModValRE:function(e){return new RegExp("(\\s|^)"+this._buildModClassNamePrefix(e)+"(?:"+x+"("+k+"))?(?=\\s|$)")},_buildClassName:function(e,t){return S(this.getEntityName(),e,t)},_buildSelector:function(e,t){return"."+this._buildClassName(e,t)}}),q=s([t.Block,V],{_block:function(){return this}}),$=s([t.Elem,V],{_block:function(){return this._blockInstance||(this._blockInstance=this.findParentBlock(O(this.__self._blockName)))}});c.fn.bem=function(e,t){var n=N(e.getEntityName(),this,t,!0);return n?n._setInitedMod():null},c(function(){f={scope:c("body"),doc:c(document),win:c(window),Block:q,Elem:$,isEntity:function(e){return e instanceof q||e instanceof $},declBlock:function(e,n,i,r){return n&&("object"!=typeof n||Array.isArray(n))||(r=i,i=n,n="string"==typeof e?v[e]||q:e),t.declBlock(e,n,i,r)},declElem:function(e,n,i,r,o){return i&&("object"!=typeof i||Array.isArray(i))||(o=r,r=i,i=v[e+M+n]||$),t.declElem(e,n,i,r,o)},declMixin:t.declMixin,init:function(e){e="string"==typeof e?c(e):e||f.scope;var n={},i=a();return R(e,y).each(function(){!function(e,t,n){var i,r,o,s,a=A(e[0]);for(i in a)o=(r=i.split(M))[0],(s=r[1])&&((n[o]||(n[o]={}))[s]=!0),N(i,e,j(a[i],i,t))}(c(this),i,n)}),t._runInitFns(),function(e,t){e.add(e.parents()).each(function(e,n){var i=g[a(n)];i&&u.each(i,function(e){var n=p[e.uniqId];if(n){var i=t[n.__self._blockName];i&&n._dropElemCache(Object.keys(i))}})})}(e,n),e},_destruct:function(e,t,n){var i,r=[];(i=t?e.children():e).each(function(){m[a(this)]=this.parentNode}),P.call(R(i,y)).each(function(e,t){var n=A(t),i=a(t);_[i]=!0,r.push(i),u.each(n,function(e){if(e.uniqId){var n=p[e.uniqId];n?function(e,t){1===e.domElem.length?(e._delInitedMod(),delete p[e._uniqId]):e.domElem=e.domElem.not(t)}(n,t):delete d[e.uniqId]}}),delete g[a(t)]}),n&&(t?e.empty():e.remove()),m={},r.forEach(function(e){delete _[e]})},destruct:function(e,t){this._destruct(e,t,!0)},detach:function(e,t){this._destruct(e,t)},update:function(e,t){return this.destruct(e,!0),this.init(e.html(t))},replace:function(e,t){var n=e.prev(),i=e.parent();return t=B(t),this.destruct(e),this.init(n.length?t.insertAfter(n):t.prependTo(i))},append:function(e,t){return this.init(B(t).appendTo(e))},prepend:function(e,t){return this.init(B(t).prependTo(e))},before:function(e,t){return this.init(B(t).insertBefore(e))},after:function(e,t){return this.init(B(t).insertAfter(e))}},e(f)})}),function(){var e=modules.define,t=[];modules.define=function(n,i,r){e.apply(modules,arguments),"i-bem-dom__init"!==n&&arguments.length>2&&~i.indexOf("i-bem-dom")&&(t.push(n),1===t.length&&modules.define("i-bem-dom__init",t,function(e){e(arguments[arguments.length-1]),t=[]}))}}(),function(e){var t=function(){"_"}.toString().indexOf("_")>-1,n=function(){},i=Object.prototype.hasOwnProperty,r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},o=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},s=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},a=Object.prototype.toString,u=Array.isArray||function(e){return"[object Array]"===a.call(e)},l=function(e){return"[object Function]"===a.call(e)},c=function(){},h=!0,f={toString:""};for(var d in f)f.hasOwnProperty(d)&&(h=!1);var p=h?["toString","valueOf"]:null;function m(e,n,i){for(var r,s,a=function(e){var t=o(e);if(h)for(var n,i=0;n=p[i++];)e.hasOwnProperty(n)&&t.push(n);return t}(i),u=0,f=a.length;u<f;)"__self"!==(r=a[u++])&&(s=i[r],l(s)&&(!t||s.toString().indexOf(".__base")>-1)?n[r]=function(t,i){var r=e[t]?e[t]:"__constructor"===t?n.__self.__parent:c;return function(){var e=this.__base;this.__base=r;var t=i.apply(this,arguments);return this.__base=e,t}}(r,s):n[r]=s)}function g(e,t){for(var n,i=1;n=e[i++];)t?l(n)?_.self(t,n.prototype,n):_.self(t,n):t=l(n)?_(e[0],n.prototype,n):_(e[0],n);return t||e[0]}function _(){var e=arguments,t=u(e[0]),i=t||l(e[0]),o=i?t?g(e[0]):e[0]:n,a=e[i?1:0]||{},c=e[i?2:1],h=a.__constructor||i&&o.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:i?function(){return o.apply(this,arguments)}:function(){};if(!i)return h.prototype=a,h.prototype.__self=h.prototype.constructor=h,s(h,c);s(h,o),h.__parent=o;var f=o.prototype,d=h.prototype=r(f);return d.__self=d.constructor=h,a&&m(f,d,a),c&&m(o,h,c),h}_.self=function(){var e=arguments,t=u(e[0])?g(e[0],e[0][0]):e[0],n=e[1],i=e[2],r=t.prototype;return n&&m(r,r,n),i&&m(t,t,i),t};var v=!0;"object"==typeof exports&&(module.exports=_,v=!1),"object"==typeof modules&&(modules.define("inherit",function(e){e(_)}),v=!1),"function"==typeof define&&(define(function(e,t,n){n.exports=_}),v=!1),v&&(e.inherit=_)}(this),modules.define("jquery",["loader_type_js","jquery__config"],function(e,t,n){function i(t){e(t?jQuery:jQuery.noConflict(!0))}"undefined"!=typeof jQuery?i(!0):t(n.url,i)}),modules.define("jquery__config",function(e){e({url:"https://yastatic.net/jquery/3.1.0/jquery.min.js"})}),modules.define("jquery__config",["ua","objects"],function(e,t,n,i){e(t.msie&&parseInt(t.version,10)<9?n.extend(i,{url:"https://yastatic.net/jquery/1.12.3/jquery.min.js"}):i)}),modules.define("ua",function(e){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i={browser:n[1]||"",version:n[2]||"0"},r={};i.browser&&(r[i.browser]=!0,r.version=i.version),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0),e(r)}),modules.define("objects",function(e){var t=Object.prototype.hasOwnProperty;e({extend:function(e,n){("object"!=typeof e||null===e)&&(e={});for(var i=1,r=arguments.length;i<r;i++){var o=arguments[i];if(o)for(var s in o)t.call(o,s)&&(e[s]=o[s])}return e},isEmpty:function(e){for(var n in e)if(t.call(e,n))return!1;return!0},each:function(e,n,i){for(var r in e)t.call(e,r)&&(i?n.call(i,e[r],r):n(e[r],r))}})}),modules.define("functions",function(e){var t=Object.prototype.toString;e({isFunction:function(e){return"[object Function]"===t.call(e)},noop:function(){}})}),modules.define("dom",["jquery"],function(e,t){var n={"datetime-local":!0,date:!0,month:!0,number:!0,password:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e({contains:function(e,t){var n=!1;return t.each(function(){var t=this;do{if(~e.index(t))return!(n=!0)}while(t=t.parentNode);return n}),n},getFocused:function(){try{return t(document.activeElement)}catch(e){}},containsFocus:function(e){return this.contains(e,this.getFocused())},isFocusable:function(e){var t=e[0];if(!t)return!1;if(t.hasAttribute("tabindex"))return!0;switch(t.tagName.toLowerCase()){case"iframe":return!0;case"input":case"button":case"textarea":case"select":return!t.disabled;case"a":return!!t.href}return!1},isEditable:function(e){var t=e[0];if(!t)return!1;switch(t.tagName.toLowerCase()){case"input":return n.hasOwnProperty(t.type)&&!t.disabled&&!t.readOnly;case"textarea":return!t.disabled&&!t.readOnly;default:return"true"===t.contentEditable}}})}),modules.define("i-bem-dom__init",["i-bem-dom"],function(e,t){e(function(e){return t.init(e)})}),modules.define("i-bem",["i-bem__internal","inherit","identify","next-tick","objects","functions"],function(e,t,n,i,r,o,s){var a=t.ELEM_DELIM,u=[],l={};function c(e,t,n){return"__"+e+"__mod"+(t?"_"+t:"")+(n?"_"+n:"")}function h(e,t,n,i){return n||i?function(r,o,s){var a,u;if(n&&(a=!1===n.apply(this,arguments)),(!i||i(e,o,s))&&(u=!1===t.apply(this,arguments)),a||u)return!1}:t}var f={"!":function(e,t,n){return t!==e},"~":function(e,t,n){return n===e}};function d(e,t,n){var i,r,o;if(s.isFunction(t))n[c(e,"*","*")]=t;else for(i in t)if(o=t[i],s.isFunction(o))n[c(e,i,"*")]=o;else{var a=c(e,i,"*");for(r in o){var u=o[r],l=r[0];"!"===l||"~"===l||"*"===r?("*"===r||(r=r.substr(1)),n[a]=h(r,u,n[a],f[l])):n[c(e,i,r)]=u}}}function p(e,t){return t?Array.isArray(t)?function(n){for(var i=0,r=t.length;i<r;)if(m(n,e,t[i++]))return!0;return!1}:function(n){return m(n,e,t)}:function(t){return m(t,e,!0)}}function m(e,t,n){var i=e._processingMods[t];return"*"===n?e.hasMod(t)||null!=i:e.hasMod(t,n)||i===n}function g(e){e.beforeSetMod&&(d("before",e.beforeSetMod,e),delete e.beforeSetMod),e.onSetMod&&(d("after",e.onSetMod,e),delete e.onSetMod)}function _(e,t,i,r,o){var s;return i||(i=l[t]||e),Array.isArray(i)||(i=[i]),i[0].__bemEntity||(i=i.slice()).unshift(l[t]||e),r&&g(r),t===i[0].getEntityName()?(s=n.self(i,r,o))._processInit(!0):s=l[t]=n(i,r,o),s}var v=n({__constructor:function(e,t,n){this._modCache=e||{},this._processingMods={},this.params=o.extend(this._getDefaultParams(),t),this._uniqId=this.params.uniqId||i(this),!1!==n?this._setInitedMod():u.push(this._setInitedMod,this)},_setInitedMod:function(){return this.setMod("js","inited")},_delInitedMod:function(){this.delMod("js")},hasMod:function(e,t){var n=typeof t;"undefined"===n||"boolean"===n||(t=t.toString());var i=this.getMod(e)===(t||"");return 1===arguments.length?!i:i},getMod:function(e){var t=this._modCache;return e in t?t[e]||"":t[e]=this._extractModVal(e)},setMod:function(e,t){var n=typeof t;if("undefined"===n?t=!0:"boolean"===n?!1===t&&(t=""):t=t.toString(),null!=this._processingMods[e])return this;var i=this.getMod(e);if(i===t)return this;this._processingMods[e]=i;for(var r,o,s,a=!0,u=[e,t,i],l=[["*","*"],[e,"*"],[e,t]],c=["before","after"],h=0;r=c[h++];){for(o=0;s=l[o++];)if(!1===this._callModFn(r,s[0],s[1],u)){a=!1;break}if(!a)break;"before"===r&&(this._modCache[e]=t,this._onSetMod(e,t,i))}return this._processingMods[e]=null,a&&this._afterSetMod(e,t,i),this},_onSetMod:function(e,t,n){},_afterSetMod:function(e,t,n){},toggleMod:function(e,t,n,i){void 0===t&&(t=!0),void 0===n?n="":"boolean"==typeof n&&(i=n,n="");var r=this.getMod(e);return(r===t||r===n)&&this.setMod(e,"boolean"==typeof i?i?t:n:this.hasMod(e,t)?n:t),this},delMod:function(e){return this.setMod(e,"")},_callModFn:function(e,t,n,i){var r=c(e,t,n);return this[r]?this[r].apply(this,i):void 0},_extractModVal:function(e){return""},_getDefaultParams:function(){return{}},_nextTick:function(e){var t=this;return r(function(){t.hasMod("js","inited")&&e.call(t)}),this}},{create:function(e,t){return new this(e,t)},declMod:function(e,t,i){t&&g(t);var r=p(e.modName,e.modVal),a=this.prototype;return o.each(t,function(e,n){s.isFunction(e)&&(t[n]=function(){var t;if(r(this))t=e;else{var i=a[n];i&&i!==e&&(t=this.__base)}return t?t.apply(this,arguments):void 0})}),n.self(this,t,i)},__bemEntity:!0,_name:null,_processInit:function(e){this._inited=!0},getName:function(){return this._name},getEntityName:function(){return this._name}}),b=v,y=n(v,{_block:function(){return this._blockInstance}},{create:function(e,t,n){var i=new this(t,n);return i._blockInstance=e,i},getEntityName:function(){return this._blockName+a+this._name}});e({Block:b,Elem:y,entities:l,declBlock:function(e,t,n,i){"object"!=typeof t||Array.isArray(t)||(i=n,n=t,t=void 0);var r=b;"string"!=typeof e&&(r=e,e=e.getEntityName());var o=_(r,e,t,n,i);return o._name=o._blockName=e,o},declElem:function(e,t,n,i,r){var o,s=y;"string"!=typeof e?(r=i,i=n,n=t,t=e._name,e=(s=e)._blockName,o=s.getEntityName()):o=e+a+t,"object"!=typeof n||Array.isArray(n)||(r=i,i=n,n=void 0);var u=_(s,o,n,i,r);return u._blockName=e,u._name=t,u},declMixin:function(e,t){return g(e||(e={})),n(e,t)},_runInitFns:function(){if(u.length){var e,t=u,n=0;for(u=[];e=t[n];)e.call(t[n+1]),n+=2}}})}),modules.define("i-bem__internal",function(e){var t,n="_",i="__";function r(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t}function o(e,t){var i="";return null!=t&&!1!==t&&(i+=n+e,!0!==t&&(i+=n+t)),i}function s(e,t,n){return e+o(t,n)}function a(e,n,r,a){return s(e,t,t)+i+n+o(r,a)}e({NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:n,ELEM_DELIM:i,buildModPostfix:o,buildClassName:function(e,n,i,o){return r(i)?r(o)||(o=i,i=n,n=t):void 0!==i?i=t:n&&"string"!=typeof n&&(n=t),n||i?n?a(e,n,i,o):s(e,i,o):e},buildClassNames:function(e,n,i){n&&"string"!=typeof n&&(i=n,n=t);var r=n?a(e,n,t,t):s(e,t,t);if(i)for(var o in i)i.hasOwnProperty(o)&&i[o]&&(r+=" "+(n?a(e,n,o,i[o]):s(e,o,i[o])));return r}})}),modules.define("identify",function(e){var t=0,n="__"+ +new Date,i=this.global,r=function(){return"uniq"+ ++t},o=function(e){var t;return"object"==typeof e&&null!==e||"function"==typeof e?("uniqueID"in e?(e===i.document&&(e=e.documentElement),t="uniqueID"):t=n,t in e?e[t]:e[t]=r()):""};e(function(e){if(arguments.length){if(1===arguments.length)return o(e);for(var t=[],n=0,i=arguments.length;n<i;n++)t.push(o(arguments[n]));return t.sort().join("")}return r()})}),modules.define("next-tick",function(e){var t=this.global,n=[],i=function(e){return n.push(e),1===n.length},r=function(){var e=n,t=0,i=n.length;for(n=[];t<i;)e[t++]()};if("object"==typeof process&&process.nextTick)return e(function(e){i(e)&&process.nextTick(r)});if(t.setImmediate)return e(function(e){i(e)&&t.setImmediate(r)});if(t.postMessage){var o=!0;if(t.attachEvent){var s=function(){o=!1};t.attachEvent("onmessage",s),t.postMessage("__checkAsync","*"),t.detachEvent("onmessage",s)}if(o){var a="__nextTick"+ +new Date,u=function(e){e.data===a&&(e.stopPropagation&&e.stopPropagation(),r())};return t.addEventListener?t.addEventListener("message",u,!0):t.attachEvent("onmessage",u),e(function(e){i(e)&&t.postMessage(a,"*")})}}var l=t.document;if("onreadystatechange"in l.createElement("script")){var c=l.getElementsByTagName("head")[0];return e(function(e){var t;i(e)&&((t=l.createElement("script")).onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,r()},c.appendChild(t))})}e(function(e){i(e)&&t.setTimeout(r,0)})}),modules.define("i-bem-dom__events",["i-bem__internal","i-bem-dom__collection","inherit","identify","objects","jquery","functions"],function(e,t,n,i,r,o,s,a){var u=window,l=document,c=(r(u),r(l),{}),h=i({__constructor:function(e,t,n){this._params=e,this._fnWrapper=t,this._eventBuilder=n,this._storage={}},on:function(e,t,n,i,o){var s=this._params,u=this._eventBuilder(e,s);a.isFunction(t)&&(o=i,i=n,n=t,t=void 0);var l=this._storage[u]||(this._storage[u]={}),c=r(n,i);if(!l[c]){var h=s.bindDomElem,f=s.bindSelector,d=this,p=l[c]=this._fnWrapper(o?function(){d.un(e,n,i),n.apply(this,arguments)}:n,i,c);h.on(u,f,t,p),f&&h.is(f)&&h.on(u,t,p)}return this},once:function(e,t,n,i){return a.isFunction(t)&&(i=n,n=t,t=void 0),this.on(e,t,n,i,!0)},un:function(e,t,n){var i=arguments.length;if(i){var s=this._params,a=this._eventBuilder(e,s);if(1===i)this._unbindByEvent(this._storage[a],a);else{var u,l=r(t,n),c=this._storage[a],h=s.bindDomElem,f=s.bindSelector;(u=c&&c[l])&&delete c[l];var d=u||t;h.off(a,s.bindSelector,d),f&&h.is(f)&&h.off(a,d)}}else o.each(this._storage,this._unbindByEvent,this);return this},_unbindByEvent:function(e,t){var n=this._params,i=n.bindDomElem,r=n.bindSelector,s=r&&i.is(r);e&&o.each(e,function(e){i.off(t,r,e),s&&i.off(t,e)}),this._storage[t]=null}}),f=function(e){return function(){var t=arguments;return this._eventManagers.forEach(function(n){n[e].apply(n,t)}),this}},d=i({__constructor:function(e){this._eventManagers=e},on:f("on"),once:f("once"),un:f("un")});e({EventManagerFactory:i({__constructor:function(e){this._storageSuffix=r(),this._getEntityCls=e,this._eventManagerCls=h},getEventManager:function(e,t,i){if(t instanceof n)return new d(t.map(function(t){return this.getEventManager(e,t,i)},this));var o,s=r(e),a=c[s],u=this._storageSuffix,l="function"!=typeof e,h="";l?o=e.__self:(o=e,h=e._buildSelector());var f=this._buildEventManagerParams(t,i,h,o),p=f.key+u;return a||(a=c[s]={},l&&e._events().on({modName:"js",modVal:""},function(){f.bindToArbitraryDomElem&&a[p]&&a[p].un(),delete a[s]})),a[p]||(a[p]=this._createEventManager(e,f,l))},_buildEventManagerParams:function(e,n,i,o){var a={bindEntityCls:null,bindDomElem:n,bindToArbitraryDomElem:!1,bindSelector:i,ctxSelector:i,key:""};if(e){var c=typeof e;if(e.jquery)a.bindDomElem=e,a.key=r.apply(null,e.get()),a.bindToArbitraryDomElem=!0;else if(e===u||e===l||"object"===c&&1===e.nodeType)a.bindDomElem=s(e),a.key=r(e),a.bindToArbitraryDomElem=!0;else if("object"===c&&e.__self)a.bindDomElem=e.domElem,a.key=e._uniqId,a.bindEntityCls=e.__self;else if("string"===c||"object"===c||"function"===c){var h,f,d,p;"string"===c?(h=o._blockName,f=e):"object"===c?(h=e.block?e.block.getName():o._blockName,f="function"==typeof e.elem?e.elem.getName():e.elem,d=e.modName,p=e.modVal):e.getName()===e.getEntityName()?h=e.getName():(h=o._blockName,f=e.getName());var m=t.buildClassName(h,f);a.bindEntityCls=this._getEntityCls(m),a.bindSelector="."+(a.key=m+t.buildModPostfix(d,p))}}else a.bindEntityCls=o;return a},_createEventManager:function(e,t,n){throw new Error("not implemented")}})})}),modules.define("i-bem-dom__collection",["inherit","i-bem__collection"],function(e,t,n){var i=t(n,{findChildBlock:o("findChildBlock"),findChildBlocks:s("findChildBlocks"),findParentBlock:o("findParentBlock"),findParentBlocks:s("findParentBlocks"),findMixedBlock:o("findMixedBlock"),findMixedBlocks:s("findMixedBlocks"),findChildElem:o("findChildElem"),findChildElems:s("findChildElems"),findParentElem:o("findParentElem"),findParentElems:s("findParentElems"),findMixedElem:o("findMixedElem"),findMixedElems:s("findMixedElems")});function r(e,t,n){return e.map(function(e){return e[t].apply(e,n)})}function o(e){return function(){return new i(r(this,e,arguments))}}function s(e){return function(){var t=[];return r(this,e,arguments).forEach(function(e){e.forEach(function(e){t.push(e)})}),new i(t)}}e(i)}),modules.define("i-bem__collection",["inherit"],function(e,t){var n=t({__constructor:function(e){var t=this._entities=[],n={};(Array.isArray(e)?e:a.call(arguments)).forEach(function(e){n[e._uniqId]||(n[e._uniqId]=!0,t.push(e))})},setMod:i("setMod"),delMod:i("delMod"),toggleMod:i("toggleMod"),everyHasMod:o("every","hasMod"),someHasMod:o("some","hasMod"),get:function(e){return this._entities[e]},forEach:r("forEach"),map:r("map"),reduce:r("reduce"),reduceRight:r("reduceRight"),filter:function(){return new this.__self(r("filter").apply(this,arguments))},some:r("some"),every:r("every"),has:function(e){return this._entities.indexOf(e)>-1},find:function(e,t){t||(t=this);for(var n,i=this._entities,r=0;n=i[r];)if(e.call(t,i[r],r++,this))return n;return null},concat:function(){for(var e,t=0,i=arguments.length,r=[];t<i;)e=arguments[t++],r.push(e instanceof n?e._entities:e);return new this.__self(s.apply(this._entities,r))},size:function(){return this._entities.length},toArray:function(){return this._entities.slice()}});function i(e){return function(){var t=arguments;return this._entities.forEach(function(n){n[e].apply(n,t)}),this}}function r(e){return function(){var t=this._entities;return t[e].apply(t,arguments)}}function o(e,t){return function(){var n=arguments;return this._entities[e](function(e){return e[t].apply(e,n)})}}var s=Array.prototype.concat,a=Array.prototype.slice;e(n)}),modules.define("i-bem-dom__events_type_bem",["i-bem-dom__events","i-bem__internal","inherit","functions","jquery","identify","events"],function(e,t,n,i,r,o,s,a){var u=o.event.special,l={},c=function(e,t){var i="__bem__"+t.bindEntityCls.getEntityName()+("object"==typeof e?e instanceof a.Event?e.type:n.buildModPostfix(e.modName,e.modVal):e);return u[i]||(u[i]=function(e){return{setup:function(){l[e]||(l[e]=!0)},teardown:r.noop}}(i)),i};e({emit:function(e,t,n){var i;"string"==typeof t?i=new a.Event(t,e):t.modName?i=new a.Event("modchange",e):t.target||(t.target=e,i=t);var r=c(t,{bindEntityCls:e.__self});l[r]&&e.domElem.trigger(r,[n,{fns:{},propagationStoppedDomNode:null},i])},EventManagerFactory:i(t.EventManagerFactory,{_createEventManager:function(e,t,n){return new this._eventManagerCls(t,function(i,r,s){return function(a,u,l,c){var h,f;l.fns[s]||(n?f=(h=e).domElem:(f=o(a.target).closest(t.ctxSelector)).length&&(h=f.bem(e)),!h||l.propagationStoppedDomNode&&o.contains(f[0],l.propagationStoppedDomNode)||(c.data=a.data,c.bemTarget=c.target,l.fns[s]=!0,i.call(r||h,c,u),c.isPropagationStopped()&&(a.stopPropagation(),l.propagationStoppedDomNode=f[0])))}},c)}})})}),modules.define("events",["identify","inherit","functions"],function(e,t,n,i){var r="__"+ +new Date+"storage",o=n({__constructor:function(e,t){this.type=e,this.target=t,this.data=void 0,this._isDefaultPrevented=!1,this._isPropagationStopped=!1},preventDefault:function(){this._isDefaultPrevented=!0},isDefaultPrevented:function(){return this._isDefaultPrevented},stopPropagation:function(){this._isPropagationStopped=!0},isPropagationStopped:function(){return this._isPropagationStopped}});e({Emitter:n({on:function(e,n,o,s,a){if("string"==typeof e){i.isFunction(n)&&(s=o,o=n,n=void 0);for(var u,l,c,h,f=t(o,s),d=this[r]||(this[r]={}),p=e.split(" "),m=0;u=p[m++];)f in(h=d[u]||(d[u]={ids:{},list:{}})).ids||(c={fn:o,data:n,ctx:s,special:a},(l=h.list).last?(l.last.next=c,c.prev=l.last):l.first=c,h.ids[f]=l.last=c)}else for(var g in e)e.hasOwnProperty(g)&&this.on(g,e[g],n,a);return this},once:function(e,t,n,i){return this.on(e,t,n,i,{once:!0})},un:function(e,n,i){if("string"==typeof e||void 0===e){var o=this[r];if(o)if(e){for(var s,a=e.split(" "),u=0;e=a[u++];)if(s=o[e])if(n){var l=t(n,i),c=s.ids;if(l in c){var h=s.list,f=c[l],d=f.prev,p=f.next;d?d.next=p:f===h.first&&(h.first=p),p?p.prev=d:f===h.last&&(h.last=d),delete c[l]}}else delete this[r][e]}else delete this[r]}else for(var m in e)e.hasOwnProperty(m)&&this.un(m,e[m],n);return this},emit:function(e,t){var n=this[r],i=!1;if(n)for(var s,a,u=["string"==typeof e?e:e.type,"*"],l=0;s=u[l++];)if(a=n[s])for(var c=a.list.first,h=a.list.last;c&&(i||(i=!0,"string"==typeof e&&(e=new o(e)),e.target||(e.target=this)),e.data=c.data,!1===c.fn.apply(c.ctx||this,arguments)&&(e.preventDefault(),e.stopPropagation()),c.special&&c.special.once&&this.un(e.type,c.fn,c.ctx),c!==h);)c=c.next;return this}}),Event:o})}),modules.require(["i-bem-dom__init","jquery","next-tick"],function(e,t,n){t(function(){n(e)})}),modules.define("editor",["i-bem-dom","textarea"],function(e,t,n){e(t.declBlock(this.name,{onSetMod:{js:{inited:function(){this._sourceArea=this._elem("textarea").findMixedBlock(n)}}},getVal:function(){return this._sourceArea.getVal()},setVal:function(e){return this._sourceArea.setVal(e),this},render:function(){return this.getVal()}},{lazyInit:!0}))}),modules.define("textarea",["i-bem-dom","input"],function(e,t,n){e(t.declBlock(this.name,n))}),modules.define("control",["i-bem-dom","dom","next-tick"],function(e,t,n,i){e(t.declBlock(this.name,{beforeSetMod:{focused:{true:function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){var e=this._elem("control").domElem;this._focused=n.containsFocus(e),this._focused?this._onFocus():this.hasMod("focused")&&this._focus(),this._tabIndex=void 0!==this.params.tabIndex?this.params.tabIndex:e.attr("tabindex"),this.hasMod("disabled")&&"undefined"!==this._tabIndex&&e.removeAttr("tabindex")}},focused:{true:function(){this._focused||this._focus()},"":function(){this._focused&&this._blur()}},disabled:{true:function(){this._elem("control").domElem.attr("disabled",!0),this.delMod("focused"),void 0!==this._tabIndex&&this._elem("control").domElem.removeAttr("tabindex")},"":function(){this._elem("control").domElem.removeAttr("disabled"),void 0!==this._tabIndex&&this._elem("control").domElem.attr("tabindex",this._tabIndex)}}},getName:function(){return this._elem("control").domElem.attr("name")||""},getVal:function(){return this._elem("control").domElem.val()},_onFocus:function(){this._focused=!0,this.setMod("focused")},_onBlur:function(){this._focused=!1,this.delMod("focused")},_focus:function(){n.isFocusable(this._elem("control").domElem)?this._elem("control").domElem.focus():this._onFocus()},_blur:function(){this._elem("control").domElem.blur(),this._onBlur()}},{lazyInit:!0,onInit:function(){this._domEvents("control").on("focusin",function(){this._focused||this._onFocus()}).on("focusout",this.prototype._onBlur);var e=n.getFocused();if(e.hasClass(this._buildClassName("control"))){var t=this;i(function(){if(e[0]===n.getFocused()[0]){var i=e.closest(t._buildSelector());i&&i.bem(t)}})}}}))}),modules.define("control",["i-bem-dom"],function(e,t,n){e(t.declBlock(n,{beforeSetMod:{hovered:{true:function(){return!this.hasMod("disabled")}}},onSetMod:{disabled:{true:function(){this.__base.apply(this,arguments),this.delMod("hovered")}},hovered:{true:function(){this._domEvents().on("mouseleave",this._onMouseLeave)},"":function(){this._domEvents().un("mouseleave",this._onMouseLeave)}}},_onMouseOver:function(){this.setMod("hovered")},_onMouseLeave:function(){this.delMod("hovered")}},{onInit:function(){return this._domEvents().on("mouseover",this.prototype._onMouseOver),this.__base.apply(this,arguments)}}))}),modules.define("jquery",["next-tick"],function(e,t,n){var i,r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o=n.event.special.pointerclick={setup:function(){r?n(this).on("pointerdown",o.onPointerdown).on("pointerup",o.onPointerup).on("pointerleave pointercancel",o.onPointerleave):n(this).on("click",o.handler)},teardown:function(){r?n(this).off("pointerdown",o.onPointerdown).off("pointerup",o.onPointerup).off("pointerleave pointercancel",o.onPointerleave):n(this).off("click",o.handler)},handler:function(e){if(!e.button){var t=e.type;e.type="pointerclick",n.event.dispatch.apply(this,arguments),e.type=t}},onPointerdown:function(e){i=e},onPointerleave:function(){i=null},onPointerup:function(e){i&&(s||(t(function(){s=!1,i=null}),s=!0),o.handler.apply(this,arguments))}},s=!1;e(n)}),function(e,t){"object"==typeof modules&&modules.isDefined("jquery")?modules.define("jquery",function(e,n){t(this.global,n),e(n)}):"function"==typeof jQuery&&t(e,jQuery)}(this,function(e,t){var n=t.event;if(delete n.special.pointerenter,delete n.special.pointerleave,!e.PointerEvent){var i=document,r=e.MSPointerEvent&&"number"==typeof e.MSPointerEvent.MSPOINTER_TYPE_MOUSE,o={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,pageX:0,pageY:0},s=Object.keys(o),a=s.length,u=s.map(function(e){return o[e]});m.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach(function(n,i){e.call(t,n,i,this)},this)}};var l=new(e.Map&&e.Map.prototype.forEach?Map:m),c={eventMap:{},eventSourceList:[],registerSource:function(e,t){var n=t.events;n&&(n.forEach(function(e){t[e]&&(this.eventMap[e]=function(){t[e].apply(t,arguments)})},this),this.eventSourceList.push(t))},register:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.unregister.call(t,e)},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.enterLeave(e,this.leave)},enterOver:function(e){this.over(e),this.enterLeave(e,this.enter)},enterLeave:function(e,t){var n=e.target,i=e.relatedTarget;if(!this.contains(n,i))for(;n&&n!==i;)e.target=n,t.call(this,e),n=n.parentNode},contains:function(e,n){return e===n||t.contains(e,n)},eventHandler:function(e){if(!e._handledByPE){var t,n=e.type;(t=this.eventMap&&this.eventMap[n])&&t(e),e._handledByPE=!0}},listen:function(e,t){t.forEach(function(t){this.addEvent(e,t)},this)},unlisten:function(e,t){t.forEach(function(t){this.removeEvent(e,t)},this)},addEvent:function(e,n){t(e).on(n,g)},removeEvent:function(e,n){t(e).off(n,g)},getTarget:function(e){return e._target},makeEvent:function(e,n){var i=new function(e,n){n||(n={});for(var i,r=t.Event(e),o=0;o<a;o++)r[i=s[o]]=n[i]||u[o];r.buttons=n.buttons||0,r.x=r.clientX,r.y=r.clientY;var l=0;return l=n.pressure?n.pressure:r.buttons?.5:0,r.pointerId=n.pointerId||0,r.width=n.width||0,r.height=n.height||0,r.pressure=l,r.tiltX=n.tiltX||0,r.tiltY=n.tiltY||0,r.pointerType=n.pointerType||"",r.hwTimestamp=n.hwTimestamp||0,r.isPrimary=n.isPrimary||!1,r.which=void 0===n.which?1:n.which,r}(e,n);return n.preventDefault&&(i.preventDefault=n.preventDefault),i._target=i._target||n.target,i},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return e.target||(e.target=t),function(e,t){return e.bubbles?n.trigger(e,null,t):n.dispatch.call(t,e)}(e,t)},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)}},h={POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){c.listen(e,this.events)},unregister:function(e){c.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,i=e.clientX,r=e.clientY,o=0,s=n.length;o<s&&(t=n[o]);o++){var a=Math.abs(i-t.x),u=Math.abs(r-t.y);if(a<=25&&u<=25)return!0}},prepareEvent:function(e){var t=p(e);return t.pointerId=1,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){l.has(1)&&this.cancel(e),l.set(1,e);var t=this.prepareEvent(e);c.down(t)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);c.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=l.get(1);if(t&&t.button===e.button){var n=this.prepareEvent(e);c.up(n),this.cleanupMouse()}}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);c.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);c.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);c.cancel(t),this.cleanupMouse()},cleanupMouse:function(){l.delete(1)}},f={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){c.listen(e,this.events)},unregister:function(e){c.unlisten(e,this.events)},POINTER_TYPE:"touch",clickCount:0,resetId:null,firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===l.size||1===l.size&&l.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=null,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.resetClickCount())},resetClickCount:function(){var e=this;this.resetId=setTimeout(function(){e.clickCount=0,e.resetId=null},200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){return"touchstart"===e||"touchmove"===e?1:0},findTarget:function(e){return i.elementFromPoint(e.clientX,e.clientY)},touchToPointer:function(e){var t=this.currentTouchEvent,n=p(e);n.pointerId=e.identifier+2,n.target=this.findTarget(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=e.webkitRadiusX||e.radiusX||0,n.height=e.webkitRadiusY||e.radiusY||0,n.pressure=e.mozPressure||e.webkitForce||e.force||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.originalEvent.changedTouches;this.currentTouchEvent=e;for(var i,r=0;r<n.length;r++)i=n[r],t.call(this,this.touchToPointer(i))},shouldScroll:function(e){return!0},findTouch:function(e,t){for(var n,i=0,r=e.length;i<r&&(n=e[i]);i++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(l.size>=t.length){var n=[];l.forEach(function(e,i){1===i||this.findTouch(t,i-2)||n.push(e.outEvent)},this),n.forEach(this.cancelOut,this)}},dedupSynthMouse:function(e){var t=h.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};t.push(i),setTimeout(function(){var e=t.indexOf(i);e>-1&&t.splice(e,1)},2500)}},touchstart:function(e){var t=e.originalEvent;this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},touchmove:function(e){var t=e.originalEvent;if(this.scrolling){if(this.firstXY){var n=this.firstXY,i=t.changedTouches[0],r=i.clientX-n.X,o=i.clientY-n.Y;Math.sqrt(r*r+o*o)>=20&&(this.touchcancel(e),this.scrolling=!0,this.firstXY=null)}}else null===this.scrolling&&this.shouldScroll(t)?this.scrolling=!0:(e.preventDefault(),this.processTouches(e,this.moveOverOut))},touchend:function(e){var t=e.originalEvent;this.dedupSynthMouse(t),this.processTouches(e,this.upOut)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},overDown:function(e){var t=e.target;l.set(e.pointerId,{target:t,outTarget:t,outEvent:e}),c.over(e),c.enter(e),c.down(e)},moveOverOut:function(e){var t=l.get(e.pointerId);if(t){c.move(e);var n=t.outEvent,i=t.outTarget;n&&i!==e.target&&(e.relatedTarget=i,n.relatedTarget=e.target,n.target=i,e.target?(c.leaveOut(n),c.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),t.outEvent=e,t.outTarget=e.target}},upOut:function(e){c.up(e),c.out(e),c.leave(e),this.cleanUpPointer(e)},cancelOut:function(e){c.cancel(e),c.out(e),c.leave(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){l.delete(e.pointerId),this.removePrimaryPointer(e)}},d={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel"],register:function(e){c.listen(e,this.events)},unregister:function(e){c.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=p(e);return r&&(t.pointerType=this.POINTER_TYPES[e.pointerType]),t},MSPointerDown:function(e){l.set(e.pointerId,e);var t=this.prepareEvent(e);c.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);c.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);c.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);c.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);c.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);c.cancel(t),this.cleanup(e.pointerId)},cleanup:function(e){l.delete(e)}};e.navigator.msPointerEnabled?c.registerSource("ms",d):(c.registerSource("mouse",h),void 0!==e.ontouchstart&&c.registerSource("touch",f)),c.register(i)}function p(e){var n=t.extend(new t.Event,e);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n}function m(){this.array=[],this.size=0}function g(){c.eventHandler.apply(c,arguments)}}),modules.define("input",["i-bem-dom","control"],function(e,t,n){e(t.declBlock(this.name,n,{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._val=this._elem("control").domElem.val()}}},getVal:function(){return this._val},setVal:function(e,t){if(e=String(e),this._val!==e){this._val=e;var n=this._elem("control");n.domElem.val()!==e&&n.domElem.val(e),this._emit("change",t)}return this}},{lazyInit:!1,onInit:function(){this.__base.apply(this,arguments)}}))}),modules.define("input",["i-bem-dom","tick","idle"],function(e,t,n,i,r){var o,s=[],a=function(){for(var e,t=0;e=s[t++];)e.setVal(e._elem("control").domElem.val())};e(t.declBlock(r,{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),o||(o=!0,n.on("tick",a).start(),i.on({idle:function(){n.un("tick",a)},wakeup:function(){n.on("tick",a)}}).start()),this._instanceIndex=s.push(this)-1},"":function(){this.__base.apply(this,arguments),s.splice(this._instanceIndex,1);for(var e,t=this._instanceIndex;e=s[t++];)--e._instanceIndex}}},_focus:function(){var e=this._elem("control").domElem[0];if(e.createTextRange&&!e.selectionStart){var t=e.createTextRange();t.move("character",e.value.length),t.select()}else e.focus()}}))}),modules.define("tick",["inherit","events"],function(e,t,n){var i=this.global;e(new(t(n.Emitter,{__constructor:function(){this._timer=null,this._isStarted=!1},start:function(){this._isStarted||(this._isStarted=!0,this._scheduleTick())},stop:function(){this._isStarted&&(this._isStarted=!1,i.clearTimeout(this._timer))},_scheduleTick:function(){var e=this;this._timer=i.setTimeout(function(){e._onTick()},50)},_onTick:function(){this.emit("tick"),this._isStarted&&this._scheduleTick()}})))}),modules.define("idle",["inherit","events","jquery"],function(e,t,n,i){e(new(t(n.Emitter,{__constructor:function(){this._timer=null,this._isStarted=!1,this._isIdle=!1},start:function(){this._isStarted||(this._isStarted=!0,this._startTimer(),i(document).on("mousemove keydown click",i.proxy(this._onUserAction,this)))},stop:function(){this._isStarted&&(this._isStarted=!1,this._stopTimer(),i(document).off("mousemove keydown click",this._onUserAction))},isIdle:function(){return this._isIdle},_onUserAction:function(){this._isIdle&&(this._isIdle=!1,this.emit("wakeup")),this._stopTimer(),this._startTimer()},_startTimer:function(){var e=this;this._timer=setTimeout(function(){e._onTimeout()},3e3)},_stopTimer:function(){this._timer&&clearTimeout(this._timer)},_onTimeout:function(){this._isIdle=!0,this.emit("idle")}})))}),modules.define("editor",function(e,t){!function(e){"use strict";var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:p,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||v.defaults,this.rules=t.normal,this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,t.def=c(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=c(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=c(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",t._comment=/<!--(?!-?>)[\s\S]*?-->/,t.html=c(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),t.paragraph=c(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex(),t.blockquote=c(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=m({},t),t.gfm=m({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=c(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=m({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),t.pedantic=m({},t.normal,{html:c("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n){var i,r,o,s,a,u,l,c,h,f,d,p,m,v,b,y;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:_(o,"\n")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(n&&(o=this.rules.nptable.exec(e))&&(u={type:"table",header:g(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(o[0].length),d=0;d<u.align.length;d++)/^ *-+: *$/.test(u.align[d])?u.align[d]="right":/^ *:-+: *$/.test(u.align[d])?u.align[d]="center":/^ *:-+ *$/.test(u.align[d])?u.align[d]="left":u.align[d]=null;for(d=0;d<u.cells.length;d++)u.cells[d]=g(u.cells[d],u.header.length);this.tokens.push(u)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),l={type:"list_start",ordered:v=1<(s=o[2]).length,start:v?+s:"",loose:!1},this.tokens.push(l),i=!(c=[]),m=(o=o[0].match(this.rules.item)).length,d=0;d<m;d++)f=(u=o[d]).length,~(u=u.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(f-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&d!==m-1&&(s===(a=t.bullet.exec(o[d+1])[0])||1<s.length&&1<a.length||(e=o.slice(d+1).join("\n")+e,d=m-1)),r=i||/\n\n(?!\s*$)/.test(u),d!==m-1&&(i="\n"===u.charAt(u.length-1),r||(r=i)),r&&(l.loose=!0),y=void 0,(b=/^\[[ xX]\] /.test(u))&&(y=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:b,checked:y,loose:r},c.push(h),this.tokens.push(h),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(m=c.length,d=0;d<m;d++)c[d].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(n&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),p=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:o[2],title:o[3]});else if(n&&(o=this.rules.table.exec(e))&&(u={type:"table",header:g(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(o[0].length),d=0;d<u.align.length;d++)/^ *-+: *$/.test(u.align[d])?u.align[d]="right":/^ *:-+: *$/.test(u.align[d])?u.align[d]="center":/^ *:-+ *$/.test(u.align[d])?u.align[d]="left":u.align[d]=null;for(d=0;d<u.cells.length;d++)u.cells[d]=g(u.cells[d].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(n&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:p,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:p,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function r(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function o(e){this.options=e||v.defaults}function s(){}function a(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function h(e,t){return f[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=_(e,"/",!0)),e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=c(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=c(i.tag).replace("comment",t._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,i._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=c(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=c(i.reflink).replace("label",i._label).getRegex(),i.normal=m({},i),i.pedantic=m({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:c(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:c(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=m({},i.normal,{escape:c(i.escape).replace("])","~|])").getRegex(),url:c(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:c(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=m({},i.gfm,{br:c(i.br).replace("{2,}","*").getRegex(),text:c(i.gfm.text).replace("{2,}","*").getRegex()}),r.rules=i,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,i,o,s,a,l="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=s[1];else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),i="@"===s[2]?"mailto:"+(n=u(this.mangle(s[1]))):n=u(s[1]),l+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0];else if(s=this.rules.link.exec(e))e=e.substring(s[0].length),this.inLink=!0,i=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=t[1],o=t[3]):o="":o=s[3]?s[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:r.escapes(i),title:r.escapes(o)}),this.inLink=!1;else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(u(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),l+=this.renderer.text(u(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{for(;a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0],a!==s[0];);e=e.substring(s[0].length),"@"===s[2]?i="mailto:"+(n=u(s[0])):(n=u(s[0]),i="www."===s[1]?"http://"+n:n),l+=this.renderer.link(i,null,n)}return l},r.escapes=function(e){return e?e.replace(r.rules._escapes,"$1"):e},r.prototype.outputLink=function(e,t){var n=t.href,i=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,u(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},o.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}this.options.baseUrl&&!d.test(e)&&(e=h(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return n}var r='<a href="'+u(e)+'"';return t&&(r+=' title="'+t+'"'),r+">"+n+"</a>"},o.prototype.image=function(e,t,n){this.options.baseUrl&&!d.test(e)&&(e=h(this.options.baseUrl,e));var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">")},o.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,n){return""+n},s.prototype.br=function(){return""},a.parse=function(e,t){return new a(t).parse(e)},a.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.inlineText=new r(e.links,m({},this.options,{renderer:new s})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":o="";var u=this.token.loose;for(this.token.task&&(o+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)o+=u||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var f={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function p(){}function m(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var i=!1,r=t;0<=--r&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function _(e,t,n){if(0===e.length)return"";for(var i=0;i<e.length;){var r=e.charAt(e.length-i-1);if(r!==t||n){if(r===t||!n)break;i++}else i++}return e.substr(0,e.length-i)}function v(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){i||(i=t,t=null);var r,o,s=(t=m({},v.defaults,t||{})).highlight,l=0;try{r=n.lex(e,t)}catch(e){return i(e)}o=r.length;var c=function(e){if(e)return t.highlight=s,i(e);var n;try{n=a.parse(r,t)}catch(n){e=n}return t.highlight=s,e?i(e):i(null,n)};if(!s||s.length<3)return c();if(delete t.highlight,!o)return c();for(;l<r.length;l++)!function(e){"code"!==e.type?--o||c():s(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--o||c():(e.text=n,e.escaped=!0,void(--o||c()))})}(r[l])}else try{return t&&(t=m({},v.defaults,t)),a.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||v.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}p.exec=p,v.options=v.setOptions=function(e){return m(v.defaults,e),v},v.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new o,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},v.defaults=v.getDefaults(),v.Parser=a,v.parser=a.parse,v.Renderer=o,v.TextRenderer=s,v.Lexer=n,v.lexer=n.lex,v.InlineLexer=r,v.inlineLexer=r.output,v.parse=v,"undefined"!=typeof module&&"object"==typeof exports?module.exports=v:"function"==typeof define&&define.amd?define(function(){return v}):e.marked=v}(this||("undefined"!=typeof window?window:global)),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Renderer=e()}}(function(){return function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(e,t,n){"use strict";var i="\r\n";function r(){}function o(e){for(var t="",n=0;n<e.length;n++)t+=e[n].content,n<e.length-1?t+=" & ":t+=" \\\\"+i;return t}r.prototype.failOnUnsupported=function(){return!this.options.hasOwnProperty("failOnUnsupported")||this.options.failOnUnsupported},r.prototype.code=function(e,t,n){return["\\begin{verbatim}",e,"\\end{verbatim}"].join(i)+i},r.prototype.blockquote=function(e){return["\\begin{quote}",e,"\\end{quote}"].join(i)+i},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){var r="";switch(t){case 1:r="\\chapter";break;case 2:r="\\section";break;case 3:r="\\subsection";break;case 4:r="\\subsubsection";break;case 5:r="\\paragraph";break;case 6:r="\\subparagraph"}return""!==r&&-1!==e.indexOf("\\{-\\}")&&(r+="*",e=e.replace(" \\{-\\}","").replace("\\{-\\}","")),i+r+"{"+e+"}"+i},r.prototype.hr=function(){return"\\hrulefill"+i},r.prototype.list=function(e,t){return t?[i,"\\begin{enumerate}",e,"\\end{enumerate}",i].join(i):[i,"\\begin{itemize}",e,"\\end{itemize}",i].join(i)},r.prototype.listitem=function(e){return"\\item "+e+i},r.prototype.paragraph=function(e){return"\\par "+e+i},r.prototype.tablecell=function(e,t){return JSON.stringify({content:e,flags:t})+","},r.prototype.tablerow=function(e){return"["+e.substr(0,e.length-1)+"],"},r.prototype.table=function(e,t){var n,r,s,a=[],u=[],l=!1;e&&(e=e.substr(0,e.length-1),0!==(a=JSON.parse(e)).length&&(l=!0)),t&&(t=t.substr(0,t.length-1),u=JSON.parse("["+t+"]")),n=0!==a.length?a:u[0],r="\\begin{tabular}",s="{|";for(var c=0;c<n.length;c++){var h="l|";switch(n[c].flags.align||"none"){case"right":h="r|";break;case"center":h="c|"}s+=h}r+=(s+="}")+i,r+="\\hline"+i,l&&(r+=o(a),r+="\\hline"+i);for(var f=0;f<u.length;f++)r+=o(u[f]);return r+="\\hline"+i,r+="\\end{tabular}"+i},r.prototype.strong=function(e){return"\\textbf{"+e+"}"},r.prototype.em=function(e){return"\\emph{"+e+"}"},r.prototype.codespan=function(e){return"\\texttt{"+this.text(e)+"}"},r.prototype.br=function(){return"\\\\"},r.prototype.del=function(e){if(this.options.delRenderer)return this.options.delRenderer(e);if(this.failOnUnsupported())throw new Error("Client should provide a function to render deleted texts. Use options.delRenderer = function (text)");return""},r.prototype.link=function(e,t,n){if(this.options.linkRenderer)return this.options.linkRenderer(e,t,n);if(this.failOnUnsupported())throw new Error("Client should provide a function to render hyperlinks. Use options.linkRenderer = function (href, title, text)");return n},r.prototype.image=function(e,t,n){if(this.options.imageRenderer)return this.options.imageRenderer(e,t,n);if(this.failOnUnsupported())throw new Error("Client should provide a function to render images. Use options.imageRenderer = function (href, title, text)");return""},r.prototype.text=function(e){return function(e){return e.replace(/\\/g,"\\textbackslash").replace(/\&/g,"\\&").replace(/%/g,"\\%").replace(/\$/g,"\\$").replace(/#/g,"\\#").replace(/\_/g,"\\_").replace(/\{/g,"\\{").replace(/\}/g,"\\}").replace(/~/g,"\\textasciitilde").replace(/\^/g,"\\textasciicircum")}(e.replace(/&([#\w]+);/g,function(e,t){if("colon"===(t=t.toLowerCase()))return":";if("amp"===t)return"&";if("#"===t.charAt(0)){var n=0;return n="x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1),String.fromCharCode(n)}return""}))},r.delImpl=function(e){return"\\sout{"+e+"}"},r.linkImpl=function(e,t,n){return"\\href{"+e+"}{"+n+"}"},r.imageImpl=function(e,t,n){return[i,"\\begin{figure}[h!]","\\caption{"+n+"}","\\centering","\\includegraphics{"+e+"}","\\end{figure}"].join(i)+i},t.exports=r},{}]},{},[1])(1)});var n=this.marked;n.setOptions({renderer:new Renderer,imageRenderer:e=>`\\includegraphics{text/${e}}`});var i=["\\makeatletter","\\renewcommand{\\@seccntformat}[1]{}","\\makeatother    "].join("\r\n");e(t.declMod({modName:"renderer",modVal:"marked"},{render:function(){return(i+n(this.getVal())).split("\r\n").join("<br>")}}))}),modules.define("editor",["editor__mode"],function(e,t,n){e(n.declMod({modName:"has-preview",modVal:!0},{onSetMod:{mode:{preview:function(){this._updatePreview()},split:function(){this._updatePreview(),this._events(this._sourceArea).on("change",this._updatePreview)},"!split":function(){this._events(this._sourceArea).un("change",this._updatePreview)}}},_updatePreview:function(){this._elem("preview").domElem.html(this.render())},_onModeChange:function(e,t){this.setMod("mode",t.val)}},{onInit:function(){return this._events(t).on("change",this.prototype._onModeChange),this.__base.apply(this,arguments)}}))}),modules.define("editor__mode",["i-bem-dom","radio-group"],function(e,t,n){e(t.declElem("editor","mode",{_onChange:function(e){this._emit("change",{val:e.bemTarget.getVal()})}},{lazyInit:!0,onInit:function(){this._events(n).on("change",this.prototype._onChange)}}))}),modules.define("radio-group",["i-bem-dom","jquery","dom","radio"],function(e,t,n,i,r){e(t.declBlock(this.name,{beforeSetMod:{focused:{true:function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){this._checkedRadio=this.findChildBlock({block:r,modName:"checked",modVal:!0}),this._inSetVal=!1,this._val=this._checkedRadio?this._checkedRadio.getVal():void 0,this._radios=void 0}},disabled:function(e,t){this.getRadios().setMod(e,t)},focused:{true:function(){if(!i.containsFocus(this.domElem))for(var e,t=this.getRadios(),n=0;e=t.get(n++);)if(e.setMod("focused").hasMod("focused"))return},"":function(){var e=this.findChildBlock({block:r,modName:"focused",modVal:!0});e&&e.delMod("focused")}}},getVal:function(){return this._val},setVal:function(e,t){var n=void 0===e;if(n||(e=String(e)),this._val!==e)if(n)this._val=void 0,this._checkedRadio.delMod("checked"),this._emit("change",t);else{var i=this._getRadioByVal(e);i&&(this._inSetVal=!0,void 0!==this._val&&this._getRadioByVal(this._val).delMod("checked"),this._val=i.getVal(),i.setMod("checked"),this._inSetVal=!1,this._emit("change",t))}return this},getName:function(){return this.getRadios().get(0).getName()},getRadios:function(){return this._radios||(this._radios=this.findChildBlocks(r))},_getRadioByVal:function(e){for(var t,n=this.getRadios(),i=0;t=n.get(i++);)if(t.getVal()===e)return t},_onRadioCheck:function(e){var t=(this._checkedRadio=e.target).getVal();this._inSetVal||(this._val===t?(this.getRadios().forEach(function(e){e.getVal()!==t&&e.delMod("checked")}),this._emit("change")):this.setVal(t))},_onRadioFocus:function(e){this.setMod("focused",e.target.getMod("focused"))}},{lazyInit:!0,onInit:function(){var e=this.prototype;this._events(r).on({modName:"checked",modVal:!0},e._onRadioCheck).on({modName:"focused",modVal:"*"},e._onRadioFocus)}}))}),modules.define("radio",["i-bem-dom","control"],function(e,t,n){e(t.declBlock(this.name,n,{onSetMod:{checked:{true:function(){this._elem("control").domElem.attr("checked",!0).prop("checked",!0)},"":function(){this._elem("control").domElem.removeAttr("checked").prop("checked",!1)}}},_onChange:function(){this.hasMod("disabled")||this.setMod("checked")}},{lazyInit:!0,onInit:function(){return this._domEvents().on("change",this.prototype._onChange),this.__base.apply(this,arguments)}}))}),modules.define("button",["i-bem-dom","control","jquery","dom","functions","keyboard__codes"],function(e,t,n,i,r,o,s){e(t.declBlock(this.name,n,{beforeSetMod:{pressed:{true:function(){return!this.hasMod("disabled")||this.hasMod("togglable")}},focused:{"":function(){return!this._isPointerPressInProgress}}},onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isPointerPressInProgress=!1,this._focusedByPointer=!1}},disabled:{true:function(){this.__base.apply(this,arguments),this.hasMod("togglable")||this.delMod("pressed"),this.domElem.attr("aria-disabled",!0)},"":function(){this.__base.apply(this,arguments),this.domElem.removeAttr("aria-disabled")}},focused:{true:function(){this.__base.apply(this,arguments),this._focusedByPointer||this.setMod("focused-hard")},"":function(){this.__base.apply(this,arguments),this.delMod("focused-hard")}}},getText:function(){return this._elem("text").domElem.text()},setText:function(e){return this._elem("text").domElem.text(e||""),this},_onFocus:function(){this._isPointerPressInProgress||(this.__base.apply(this,arguments),this._domEvents("control").on("keydown",this._onKeyDown))},_onBlur:function(){this._domEvents("control").un("keydown",this._onKeyDown),this.__base.apply(this,arguments)},_onMouseDown:function(e){e.preventDefault(),this._domEvents().un("mousedown",this._onMouseDown)},_onPointerPress:function(){this._domEvents().on("mousedown",this._onMouseDown),this.hasMod("disabled")||(this._isPointerPressInProgress=!0,this._domEvents(t.doc).on("pointerrelease",this._onPointerRelease),this.setMod("pressed"))},_onPointerRelease:function(e){this._isPointerPressInProgress=!1,this._domEvents(t.doc).un("pointerrelease",this._onPointerRelease),"pointerup"===e.originalEvent.type&&r.contains(this.findMixedElem("control").domElem,i(e.target))?(this._focusedByPointer=!0,this._focus(),this._focusedByPointer=!1,this._domEvents().once("pointerclick",this._onPointerClick)):this._blur(),this.delMod("pressed")},_onPointerClick:function(){this._updateChecked()._emit("click")},_onKeyDown:function(e){if(!this.hasMod("disabled")){var t=e.keyCode;t!==s.SPACE&&t!==s.ENTER||(this._domEvents("control").un("keydown",this._onKeyDown).on("keyup",this._onKeyUp),this._updateChecked().setMod("pressed"))}},_onKeyUp:function(e){this._domEvents("control").un("keyup",this._onKeyUp).on("keydown",this._onKeyDown),this.delMod("pressed"),e.keyCode===s.SPACE&&this._doAction(),this._emit("click")},_updateChecked:function(){return this.hasMod("togglable")&&(this.hasMod("togglable","check")?this.toggleMod("checked"):this.setMod("checked")),this},_doAction:o.noop},{lazyInit:!0,onInit:function(){return this._domEvents("control").on("pointerpress",this.prototype._onPointerPress),this.__base.apply(this,arguments)}}))}),modules.define("keyboard__codes",function(e){e({BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46})}),modules.define("button",function(e,t){e(t.declMod({modName:"togglable",modVal:"*"},{onSetMod:{checked:function(e,t){this.__base.apply(this,arguments),this.domElem.attr("aria-pressed",!!t)}}}))}),modules.define("editor",["editor__internal","editor__actions"],function(e,t,n,i){e(i.declMod({modName:"has-actions",modVal:!0},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._api=new t(this._sourceArea.domElem[0])}}},_onActionClick:function(e,t){this._api.format(t.val)}},{onInit:function(){return this._events(n).on("click",this.prototype._onActionClick),this.__base.apply(this,arguments)}}))}),modules.define("editor__internal",function(e){!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formats=void 0;var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=(n=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")})&&n.__esModule?n:{default:n};var a=t.formats={bold:{prefix:"**",suffix:"**"},italic:{prefix:"_",suffix:"_"},link:{prefix:{value:"[",pattern:"\\[",antipattern:"\\!\\["},suffix:{value:function(e){return"]("+prompt("URL:")+")"},pattern:"\\]\\(.*?\\)"}},image:{prefix:"![",suffix:{value:function(e){return"]("+prompt("URL:")+")"},pattern:"\\]\\(.*?\\)"}},code:{block:!0,prefix:"```\n",suffix:"\n```"},header1:{prefix:"# "},header2:{prefix:"## "},header3:{prefix:"### "},orderedList:{block:!0,multiline:!0,prefix:{value:function(e,t){return t+1+". "},pattern:"[0-9]+. "}},unorderedList:{block:!0,multiline:!0,prefix:"- "},blockquote:{block:!0,multiline:!0,prefix:"> "}},u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t}return o(e,[{key:"range",value:function(e){var t=this.el;if(null==e)return[t.selectionStart,t.selectionEnd];this.focus();var n=r(e,2);return t.selectionStart=n[0],t.selectionEnd=n[1],this}},{key:"insert",value:function(e){var t=!0;this.el.contentEditable=!0,this.focus();try{document.execCommand("insertText",!1,e)}catch(e){t=!1}if(this.el.contentEditable=!1,t)return this;try{document.execCommand("ms-beginUndoUnit")}catch(e){}var n=this.selection(),i=n.before,r=n.after;this.el.value=i+e+r;try{document.execCommand("ms-endUndoUnit")}catch(e){}var o=document.createEvent("Event");return o.initEvent("input",!0,!0),this.el.dispatchEvent(o),this}},{key:"focus",value:function(){return document.activeElement!==this.el&&this.el.focus(),this}},{key:"selection",value:function(){var e=this.range(),t=r(e,2),n=t[0],i=t[1],o=this.el.value.replace("\r\n","\n");return{before:o.slice(0,n),content:o.slice(n,i),after:o.slice(i)}}},{key:"getFormat",value:function(e){if("object"==(void 0===e?"undefined":i(e)))return p(e);if(!a.hasOwnProperty(e))throw new Error("Invalid format "+e);return p(a[e])}},{key:"exec",value:function(e,t){switch(e){case"format":return this.format(t);case"unformat":return this.unformat(t);case"toggle":return this.toggle(t);default:throw new Error("Invalid command "+e)}}},{key:"toggle",value:function(e){return this.hasFormat(e)?this.unformat(e):this.format(e)}},{key:"format",value:function(e){var t=this.getFormat(e),n=t.prefix,i=t.suffix,o=t.multiline,s=this.selection(),a=s.before,u=s.content,l=s.after,c=o?u.split("\n"):[u],f=this.range(),d=r(f,2),p=d[0],m=d[1],_=(c=c.map(function(e,t){var r=g(n.value,e,t),s=g(i.value,e,t);return o&&u.length?m+=r.length+s.length:(p+=r.length,m+=r.length),r+e+s})).join("\n");if(t.block){for(var v=h(a,/\n+$/),b=h(l,/^\n+/);a&&v<2;)_="\n"+_,p++,m++,v++;for(;l&&b<2;)_+="\n",b++}return this.insert(_),this.range([p,m]),this}},{key:"unformat",value:function(e){var t=this.getFormat(e),n=t.prefix,i=t.suffix,o=t.multiline,s=this.selection(),a=s.before,u=s.content,h=s.after,p=o?u.split("\n"):[u],m=this.range(),g=r(m,2),_=g[0],v=g[1];!o&&c(a,n)&&l(h,i)&&(_-=d(a,n),v+=f(h,i),this.range([_,v]),p=[this.selection().content]);var b=(p=p.map(function(e){var t=f(e,n),r=d(e,i);return e.slice(t,e.length-r)})).join("\n");return this.insert(b),this.range([_,_+b.length]),this}},{key:"hasFormat",value:function(e){var t=this.getFormat(e),n=t.prefix,i=t.suffix,r=t.multiline,o=this.selection(),s=o.before,a=o.content,u=o.after,h=a.split("\n");return r?h.filter(function(e){return l(e,n)&&c(e,i)}).length==h.length:c(s,n)&&l(u,i)||l(a,n)&&c(a,i)}}]),e}();function l(e,t){var n=new RegExp("^"+t.pattern).test(e);if(t.antipattern){var i=new RegExp("^"+t.antipattern);n=n&&!i.test(e)}return n}function c(e,t){var n=new RegExp(t.pattern+"$").test(e);if(t.antipattern){var i=new RegExp(t.antipattern+"$");n=n&&!i.test(e)}return n}function h(e,t){var n=e.match(t);return n?n[0].length:0}function f(e,t){return h(e,new RegExp("^"+t.pattern))}function d(e,t){return h(e,new RegExp(t.pattern+"$"))}function p(e){var t=Object.assign({},e);return t.prefix=m(e.prefix),t.suffix=m(e.suffix),t}function m(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return"object"==(void 0===e?"undefined":i(e))?e:{value:e,pattern:(0,s.default)(e)}}function g(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e?e.apply(void 0,n):e}t.default=u,e(t.default)}({})}),modules.define("editor__actions",["i-bem-dom","button"],function(e,t,n){e(t.declElem("editor","actions",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}}},_onClick:function(e){this._emit("click",{val:e.bemTarget.getVal()})}},{lazyInit:!0,onInit:function(){this._events(n).on("click",this.prototype._onClick)}}))}),modules.define("loader_type_js",function(e){var t={},n={},i=document.getElementsByTagName("head")[0],r=function(e,n){var i,r=t[e],o=0;for(delete t[e];i=r[o++];)i[n]&&i[n]()},o=function(e){n[e]=!0,r(e,"success")};e(function(e,s,a){if(n[e])s&&s();else if(t[e])t[e].push({success:s,error:a});else{t[e]=[{success:s,error:a}];var u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.src=("file:"!==location.protocol||e.indexOf("//")?"":"http:")+e,"onload"in u?(u.onload=function(){u.onload=u.onerror=null,o(e)},u.onerror=function(){u.onload=u.onerror=null,function(e){r(e,"error")}(e)}):u.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(u.onreadystatechange=null,o(e))},i.insertBefore(u,i.lastChild)}})}),modules.define("i-bem-dom__events_type_dom",["i-bem-dom__events","inherit","jquery"],function(e,t,n,i){var r=function(e){return e};e({EventManagerFactory:n(t.EventManagerFactory,{_createEventManager:function(e,t,n){return new this._eventManagerCls(t,function(r){return function(o){var s;if(n)s=e;else{var a=i(o.target).closest(t.ctxSelector);a.length&&(s=a.bem(e))}s&&(t.bindEntityCls&&(o.bemTarget=i(this).bem(t.bindEntityCls)),r.apply(s,arguments))}},r)}})})}),modules.define("jquery",function(e,t){t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(e,n){function i(n){if(1===n.which){var i=function(e){var n=t.extend(new t.Event,e);e.preventDefault&&(n.preventDefault=function(){e.preventDefault()});return n}(n);return i.type=e,i.originalEvent=n,t.event.dispatch.call(this,i)}}t.event.special[e]={setup:function(){return t(this).on(n,i),!1},teardown:function(){return t(this).off(n,i),!1}}}),e(t)}),modules.define("radio",["button","functions"],function(e,t,n,i){function r(e,t,n){!1!==n&&this.__base.apply(this,arguments),this._button.setMod(e,t)}function o(e,t){this.setMod(t.modName,t.modVal)}e(i.declMod({modName:"type",modVal:"button"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._button=this.findChildBlock(t),this._events(t).on({modName:"checked",modVal:"*"},o,this).on({modName:"focused",modVal:"*"},o,this)}},checked:r,disabled:r,focused:function(e,t){r.call(this,e,t,!1)}}},{lazyInit:!0,onInit:function(){return this._events(t).on({modName:"js",modVal:"inited"},n.noop),this.__base.apply(this,arguments)}}))}),function(e){function t(e){var t={apply:function(){return""}};return t}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=t(),n=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],function(e){e(t())}),n=!1),n&&(BEMHTML=t(),e.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);